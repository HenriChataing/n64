start_address = "0xffffffff80326df4"

asm_code = """
    lui      at, 0x8033
    sw       v0, 0x48a0(at)
    addiu    t0, zero, 0x4
    sh       t0, 0x10(v0)
    or       k0, v0, zero
    ld       k1, 0x108(k0)
    ld       at, 0x20(k0)
    ld       v0, 0x28(k0)
    mtlo     k1
    ld       k1, 0x110(k0)
    ld       v1, 0x30(k0)
    ld       a0, 0x38(k0)
    ld       a1, 0x40(k0)
    ld       a2, 0x48(k0)
    ld       a3, 0x50(k0)
    ld       t0, 0x58(k0)
    ld       t1, 0x60(k0)
    ld       t2, 0x68(k0)
    ld       t3, 0x70(k0)
    ld       t4, 0x78(k0)
    ld       t5, 0x80(k0)
    ld       t6, 0x88(k0)
    ld       t7, 0x90(k0)
    ld       s0, 0x98(k0)
    ld       s1, 0xa0(k0)
    ld       s2, 0xa8(k0)
    ld       s3, 0xb0(k0)
    ld       s4, 0xb8(k0)
    ld       s5, 0xc0(k0)
    ld       s6, 0xc8(k0)
    ld       s7, 0xd0(k0)
    ld       t8, 0xd8(k0)
    ld       t9, 0xe0(k0)
    ld       gp, 0xe8(k0)
    mthi     k1
    ld       sp, 0xf0(k0)
    ld       fp, 0xf8(k0)
    ld       ra, 0x100(k0)
    lw       k1, 0x11c(k0)
    mtc0     k1, epc
    lw       k1, 0x118(k0)
    mtc0     k1, sr
    lw       k1, 0x18(k0)
    beq      k1, zero, 0xffffffff80326ef0
    nop
"""

bin_code = [
    0x3c018033, 0xac2248a0, 0x24080004, 0xa4480010,
    0x0040d025, 0xdf5b0108, 0xdf410020, 0xdf420028,
    0x03600013, 0xdf5b0110, 0xdf430030, 0xdf440038,
    0xdf450040, 0xdf460048, 0xdf470050, 0xdf480058,
    0xdf490060, 0xdf4a0068, 0xdf4b0070, 0xdf4c0078,
    0xdf4d0080, 0xdf4e0088, 0xdf4f0090, 0xdf500098,
    0xdf5100a0, 0xdf5200a8, 0xdf5300b0, 0xdf5400b8,
    0xdf5500c0, 0xdf5600c8, 0xdf5700d0, 0xdf5800d8,
    0xdf5900e0, 0xdf5c00e8, 0x03600011, 0xdf5d00f0,
    0xdf5e00f8, 0xdf5f0100, 0x8f5b011c, 0x409b7000,
    0x8f5b0118, 0x409b6000, 0x8f5b0018, 0x13600013,
    0x00000000,
]

[[test]]
end_address = "0xffffffff80326ef0"
start_cycles = 87331246
end_cycles = 87331291
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x803638f0" },
    { type = "store_u16", address = "0x00363900", value = "0x4" },
    { type = "load_u64", address = "0x003639f8", value = "0x0" },
    { type = "load_u64", address = "0x00363910", value = "0x0" },
    { type = "load_u64", address = "0x00363918", value = "0x0" },
    { type = "load_u64", address = "0x00363a00", value = "0x0" },
    { type = "load_u64", address = "0x00363920", value = "0x0" },
    { type = "load_u64", address = "0x00363928", value = "0xffffffff803347c0" },
    { type = "load_u64", address = "0x00363930", value = "0x0" },
    { type = "load_u64", address = "0x00363938", value = "0x0" },
    { type = "load_u64", address = "0x00363940", value = "0x0" },
    { type = "load_u64", address = "0x00363948", value = "0x0" },
    { type = "load_u64", address = "0x00363950", value = "0x0" },
    { type = "load_u64", address = "0x00363958", value = "0x0" },
    { type = "load_u64", address = "0x00363960", value = "0x0" },
    { type = "load_u64", address = "0x00363968", value = "0x0" },
    { type = "load_u64", address = "0x00363970", value = "0x0" },
    { type = "load_u64", address = "0x00363978", value = "0x0" },
    { type = "load_u64", address = "0x00363980", value = "0x0" },
    { type = "load_u64", address = "0x00363988", value = "0x1" },
    { type = "load_u64", address = "0x00363990", value = "0x0" },
    { type = "load_u64", address = "0x00363998", value = "0x0" },
    { type = "load_u64", address = "0x003639a0", value = "0x0" },
    { type = "load_u64", address = "0x003639a8", value = "0x0" },
    { type = "load_u64", address = "0x003639b0", value = "0x0" },
    { type = "load_u64", address = "0x003639b8", value = "0x0" },
    { type = "load_u64", address = "0x003639c0", value = "0x0" },
    { type = "load_u64", address = "0x003639c8", value = "0x0" },
    { type = "load_u64", address = "0x003639d0", value = "0x0" },
    { type = "load_u64", address = "0x003639d8", value = "0x0" },
    { type = "load_u64", address = "0x003639e0", value = "0xffffffff80364a30" },
    { type = "load_u64", address = "0x003639e8", value = "0x0" },
    { type = "load_u64", address = "0x003639f0", value = "0xffffffff80321938" },
    { type = "load_u32", address = "0x00363a0c", value = "0x80321938" },
    { type = "load_u32", address = "0x00363a08", value = "0xff02" },
    { type = "load_u32", address = "0x00363908", value = "0x0" },
]

[[test]]
end_address = "0xffffffff80326ef0"
start_cycles = 99831078
end_cycles = 99831123
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x80364b00" },
    { type = "store_u16", address = "0x00364b10", value = "0x4" },
    { type = "load_u64", address = "0x00364c08", value = "0x1" },
    { type = "load_u64", address = "0x00364b20", value = "0x1" },
    { type = "load_u64", address = "0x00364b28", value = "0x1ddb90" },
    { type = "load_u64", address = "0x00364c10", value = "0x0" },
    { type = "load_u64", address = "0x00364b30", value = "0x0" },
    { type = "load_u64", address = "0x00364b38", value = "0xffffffff801ddb90" },
    { type = "load_u64", address = "0x00364b40", value = "0x621da0" },
    { type = "load_u64", address = "0x00364b48", value = "0xffffffff801ddb90" },
    { type = "load_u64", address = "0x00364b50", value = "0x510" },
    { type = "load_u64", address = "0x00364b58", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364b60", value = "0xffffffffb0000000" },
    { type = "load_u64", address = "0x00364b68", value = "0x621da0" },
    { type = "load_u64", address = "0x00364b70", value = "0xffffffffb0621da0" },
    { type = "load_u64", address = "0x00364b78", value = "0x10621da0" },
    { type = "load_u64", address = "0x00364b80", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364b88", value = "0x510" },
    { type = "load_u64", address = "0x00364b90", value = "0x50f" },
    { type = "load_u64", address = "0x00364b98", value = "0x0" },
    { type = "load_u64", address = "0x00364ba0", value = "0x0" },
    { type = "load_u64", address = "0x00364ba8", value = "0x0" },
    { type = "load_u64", address = "0x00364bb0", value = "0x0" },
    { type = "load_u64", address = "0x00364bb8", value = "0x0" },
    { type = "load_u64", address = "0x00364bc0", value = "0x0" },
    { type = "load_u64", address = "0x00364bc8", value = "0x0" },
    { type = "load_u64", address = "0x00364bd0", value = "0x0" },
    { type = "load_u64", address = "0x00364bd8", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364be0", value = "0xffffffff80327530" },
    { type = "load_u64", address = "0x00364be8", value = "0x0" },
    { type = "load_u64", address = "0x00364bf0", value = "0xffffffff80365c40" },
    { type = "load_u64", address = "0x00364bf8", value = "0x0" },
    { type = "load_u64", address = "0x00364c00", value = "0xffffffff80327580" },
    { type = "load_u32", address = "0x00364c1c", value = "0x803275f8" },
    { type = "load_u32", address = "0x00364c18", value = "0xff03" },
    { type = "load_u32", address = "0x00364b18", value = "0x0" },
]

[[test]]
end_address = "0xffffffff80326ef0"
start_cycles = 112299164
end_cycles = 112299209
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x80364b00" },
    { type = "store_u16", address = "0x00364b10", value = "0x4" },
    { type = "load_u64", address = "0x00364c08", value = "0x1" },
    { type = "load_u64", address = "0x00364b20", value = "0x1" },
    { type = "load_u64", address = "0x00364b28", value = "0x1df9f0" },
    { type = "load_u64", address = "0x00364c10", value = "0x0" },
    { type = "load_u64", address = "0x00364b30", value = "0x0" },
    { type = "load_u64", address = "0x00364b38", value = "0xffffffff801df9f0" },
    { type = "load_u64", address = "0x00364b40", value = "0x621da0" },
    { type = "load_u64", address = "0x00364b48", value = "0xffffffff801df9f0" },
    { type = "load_u64", address = "0x00364b50", value = "0x510" },
    { type = "load_u64", address = "0x00364b58", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364b60", value = "0xffffffffb0000000" },
    { type = "load_u64", address = "0x00364b68", value = "0x621da0" },
    { type = "load_u64", address = "0x00364b70", value = "0xffffffffb0621da0" },
    { type = "load_u64", address = "0x00364b78", value = "0x10621da0" },
    { type = "load_u64", address = "0x00364b80", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364b88", value = "0x510" },
    { type = "load_u64", address = "0x00364b90", value = "0x50f" },
    { type = "load_u64", address = "0x00364b98", value = "0x1" },
    { type = "load_u64", address = "0x00364ba0", value = "0x0" },
    { type = "load_u64", address = "0x00364ba8", value = "0x0" },
    { type = "load_u64", address = "0x00364bb0", value = "0x0" },
    { type = "load_u64", address = "0x00364bb8", value = "0x0" },
    { type = "load_u64", address = "0x00364bc0", value = "0x0" },
    { type = "load_u64", address = "0x00364bc8", value = "0x0" },
    { type = "load_u64", address = "0x00364bd0", value = "0x0" },
    { type = "load_u64", address = "0x00364bd8", value = "0xffffffffa4600000" },
    { type = "load_u64", address = "0x00364be0", value = "0xffffffff80327530" },
    { type = "load_u64", address = "0x00364be8", value = "0x0" },
    { type = "load_u64", address = "0x00364bf0", value = "0xffffffff80365c40" },
    { type = "load_u64", address = "0x00364bf8", value = "0x0" },
    { type = "load_u64", address = "0x00364c00", value = "0xffffffff80321938" },
    { type = "load_u32", address = "0x00364c1c", value = "0x80321938" },
    { type = "load_u32", address = "0x00364c18", value = "0xff02" },
    { type = "load_u32", address = "0x00364b18", value = "0x0" },
]

[[test]]
end_address = "0xffffffff80326ea8"
start_cycles = 123237845
end_cycles = 123237890
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x80339720" },
    { type = "store_u16", address = "0x00339730", value = "0x4" },
    { type = "load_u64", address = "0x00339828", value = "0x1" },
    { type = "load_u64", address = "0x00339740", value = "0x47800000" },
    { type = "load_u64", address = "0x00339748", value = "0xffffffff80214778" },
    { type = "load_u64", address = "0x00339830", value = "0x0" },
    { type = "load_u64", address = "0x00339750", value = "0xffffffff80214838" },
    { type = "load_u64", address = "0x00339758", value = "0xffffffff80214778" },
    { type = "load_u64", address = "0x00339760", value = "0xffffffff8033a7b8" },
    { type = "load_u64", address = "0x00339768", value = "0x1" },
    { type = "load_u64", address = "0x00339770", value = "0xffffffff8021477a" },
    { type = "load_u64", address = "0x00339778", value = "0xffffffff8021479a" },
    { type = "load_u64", address = "0x00339780", value = "0xffffffff8033a7bc" },
    { type = "load_u64", address = "0x00339788", value = "0xffffffff80206fe4" },
    { type = "load_u64", address = "0x00339790", value = "0x0" },
    { type = "load_u64", address = "0x00339798", value = "0xffffffff80206fa8" },
    { type = "load_u64", address = "0x003397a0", value = "0x0" },
    { type = "load_u64", address = "0x003397a8", value = "0x1" },
    { type = "load_u64", address = "0x003397b0", value = "0x10000" },
    { type = "load_u64", address = "0x003397b8", value = "0x0" },
    { type = "load_u64", address = "0x003397c0", value = "0x8" },
    { type = "load_u64", address = "0x003397c8", value = "0xffffffff80339570" },
    { type = "load_u64", address = "0x003397d0", value = "0x0" },
    { type = "load_u64", address = "0x003397d8", value = "0x0" },
    { type = "load_u64", address = "0x003397e0", value = "0x0" },
    { type = "load_u64", address = "0x003397e8", value = "0x0" },
    { type = "load_u64", address = "0x003397f0", value = "0x0" },
    { type = "load_u64", address = "0x003397f8", value = "0xffffffff80206fe4" },
    { type = "load_u64", address = "0x00339800", value = "0x1" },
    { type = "load_u64", address = "0x00339808", value = "0x0" },
    { type = "load_u64", address = "0x00339810", value = "0xffffffff80207138" },
    { type = "load_u64", address = "0x00339818", value = "0x0" },
    { type = "load_u64", address = "0x00339820", value = "0xffffffff80321ff4" },
    { type = "load_u32", address = "0x0033983c", value = "0x80321ff4" },
    { type = "load_u32", address = "0x00339838", value = "0x2000ff02" },
    { type = "load_u32", address = "0x00339738", value = "0x1" },
]

[[test]]
end_address = "0xffffffff80326ef0"
start_cycles = 134163635
end_cycles = 134163680
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x803393c0" },
    { type = "store_u16", address = "0x003393d0", value = "0x4" },
    { type = "load_u64", address = "0x003394c8", value = "0x0" },
    { type = "load_u64", address = "0x003393e0", value = "0x0" },
    { type = "load_u64", address = "0x003393e8", value = "0x0" },
    { type = "load_u64", address = "0x003394d0", value = "0x0" },
    { type = "load_u64", address = "0x003393f0", value = "0x0" },
    { type = "load_u64", address = "0x003393f8", value = "0x1" },
    { type = "load_u64", address = "0x00339400", value = "0x0" },
    { type = "load_u64", address = "0x00339408", value = "0x0" },
    { type = "load_u64", address = "0x00339410", value = "0x0" },
    { type = "load_u64", address = "0x00339418", value = "0xff01" },
    { type = "load_u64", address = "0x00339420", value = "0x0" },
    { type = "load_u64", address = "0x00339428", value = "0x0" },
    { type = "load_u64", address = "0x00339430", value = "0x0" },
    { type = "load_u64", address = "0x00339438", value = "0x0" },
    { type = "load_u64", address = "0x00339440", value = "0x0" },
    { type = "load_u64", address = "0x00339448", value = "0x0" },
    { type = "load_u64", address = "0x00339450", value = "0x0" },
    { type = "load_u64", address = "0x00339458", value = "0x0" },
    { type = "load_u64", address = "0x00339460", value = "0x0" },
    { type = "load_u64", address = "0x00339468", value = "0x0" },
    { type = "load_u64", address = "0x00339470", value = "0x0" },
    { type = "load_u64", address = "0x00339478", value = "0x0" },
    { type = "load_u64", address = "0x00339480", value = "0x0" },
    { type = "load_u64", address = "0x00339488", value = "0x0" },
    { type = "load_u64", address = "0x00339490", value = "0x0" },
    { type = "load_u64", address = "0x00339498", value = "0x0" },
    { type = "load_u64", address = "0x003394a0", value = "0x0" },
    { type = "load_u64", address = "0x003394a8", value = "0x0" },
    { type = "load_u64", address = "0x003394b0", value = "0xffffffff802011d0" },
    { type = "load_u64", address = "0x003394b8", value = "0x0" },
    { type = "load_u64", address = "0x003394c0", value = "0xffffffff80246da4" },
    { type = "load_u32", address = "0x003394dc", value = "0x80246da4" },
    { type = "load_u32", address = "0x003394d8", value = "0xff03" },
    { type = "load_u32", address = "0x003393d8", value = "0x0" },
]

[[test]]
end_address = "0xffffffff80326ea8"
start_cycles = 146615773
end_cycles = 146615818
trace = [
    { type = "store_u32", address = "0x003348a0", value = "0x80339720" },
    { type = "store_u16", address = "0x00339730", value = "0x4" },
    { type = "load_u64", address = "0x00339828", value = "0x1" },
    { type = "load_u64", address = "0x00339740", value = "0x0" },
    { type = "load_u64", address = "0x00339748", value = "0xffffffff8008e32c" },
    { type = "load_u64", address = "0x00339830", value = "0x0" },
    { type = "load_u64", address = "0x00339750", value = "0xffffffff80220fc8" },
    { type = "load_u64", address = "0x00339758", value = "0xffffffff8008e310" },
    { type = "load_u64", address = "0x00339760", value = "0xc" },
    { type = "load_u64", address = "0x00339768", value = "0x4" },
    { type = "load_u64", address = "0x00339770", value = "0xffffffff80206f48" },
    { type = "load_u64", address = "0x00339778", value = "0xffffffff8008e32c" },
    { type = "load_u64", address = "0x00339780", value = "0x1" },
    { type = "load_u64", address = "0x00339788", value = "0xffffffff8008e1b8" },
    { type = "load_u64", address = "0x00339790", value = "0x4" },
    { type = "load_u64", address = "0x00339798", value = "0xffffffff8008e1b8" },
    { type = "load_u64", address = "0x003397a0", value = "0x1" },
    { type = "load_u64", address = "0x003397a8", value = "0xffffffff8008e26c" },
    { type = "load_u64", address = "0x003397b0", value = "0x0" },
    { type = "load_u64", address = "0x003397b8", value = "0x1" },
    { type = "load_u64", address = "0x003397c0", value = "0x0" },
    { type = "load_u64", address = "0x003397c8", value = "0x0" },
    { type = "load_u64", address = "0x003397d0", value = "0x0" },
    { type = "load_u64", address = "0x003397d8", value = "0x0" },
    { type = "load_u64", address = "0x003397e0", value = "0x0" },
    { type = "load_u64", address = "0x003397e8", value = "0x0" },
    { type = "load_u64", address = "0x003397f0", value = "0x0" },
    { type = "load_u64", address = "0x003397f8", value = "0x0" },
    { type = "load_u64", address = "0x00339800", value = "0x1" },
    { type = "load_u64", address = "0x00339808", value = "0x0" },
    { type = "load_u64", address = "0x00339810", value = "0xffffffff80207188" },
    { type = "load_u64", address = "0x00339818", value = "0x0" },
    { type = "load_u64", address = "0x00339820", value = "0xffffffff80321938" },
    { type = "load_u32", address = "0x0033983c", value = "0x80321938" },
    { type = "load_u32", address = "0x00339838", value = "0x2000ff02" },
    { type = "load_u32", address = "0x00339738", value = "0x1" },
]

