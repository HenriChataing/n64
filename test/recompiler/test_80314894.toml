start_address = "0xffffffff80314894"

asm_code = """
    andi     a3, v0, 0xf
    or       a0, s4, zero
    lui      t9, 0x800
    lw       t2, 0x150(sp)
    lw       t3, 0x14c(sp)
    lw       t4, 0x10c(sp)
    lw       t5, 0x118(sp)
    ori      t9, t9, 0x3f0
    addu     t8, s1, a3
    andi     t7, t8, 0xffff
    sw       t9, 0x0(a0)
    addiu    s4, s4, 0x8
    lui      ra, 0x8000
    sw       t7, 0x4(a0)
    or       a1, s4, zero
    subu     t9, v0, a3
    addu     t8, t9, ra
    lui      t6, 0x400
    sw       t6, 0x0(a1)
    sw       t8, 0x4(a1)
    lw       a2, 0x0(s7)
    addiu    s4, s4, 0x8
    sll      t7, a2, 2
    beq      zero, zero, 0xffffffff8031490c
    srl      a2, t7, 31
"""

bin_code = [
    0x3047000f, 0x02802025, 0x3c190800, 0x8faa0150,
    0x8fab014c, 0x8fac010c, 0x8fad0118, 0x373903f0,
    0x0227c021, 0x330fffff, 0xac990000, 0x26940008,
    0x3c1f8000, 0xac8f0004, 0x02802825, 0x0047c823,
    0x033fc021, 0x3c0e0400, 0xacae0000, 0xacb80004,
    0x8ee60000, 0x26940008, 0x00067880, 0x10000006,
    0x000f37c2,
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 224557983
end_cycles = 224558008
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x43" },
    { type = "load_u32", address = "0x00205018", value = "0x43" },
    { type = "store_u32", address = "0x001d3748", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d374c", value = "0x28" },
    { type = "store_u32", address = "0x001d3750", value = "0x4000000" },
    { type = "store_u32", address = "0x001d3754", value = "0x1dd940" },
    { type = "load_u32", address = "0x001d72c0", value = "0x81000008" },
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 243282399
end_cycles = 243282424
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x44" },
    { type = "load_u32", address = "0x00205018", value = "0x44" },
    { type = "store_u32", address = "0x001d3968", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d396c", value = "0x2f" },
    { type = "store_u32", address = "0x001d3970", value = "0x4000000" },
    { type = "store_u32", address = "0x001d3974", value = "0x1deaf0" },
    { type = "load_u32", address = "0x001d72c0", value = "0x8100000c" },
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 263536309
end_cycles = 263536334
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x44" },
    { type = "load_u32", address = "0x00205018", value = "0x44" },
    { type = "store_u32", address = "0x001d0548", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d054c", value = "0x2d" },
    { type = "store_u32", address = "0x001d0550", value = "0x4000000" },
    { type = "store_u32", address = "0x001d0554", value = "0x1df750" },
    { type = "load_u32", address = "0x001d72c0", value = "0x8100000e" },
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 282259497
end_cycles = 282259522
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x44" },
    { type = "load_u32", address = "0x00205018", value = "0x44" },
    { type = "store_u32", address = "0x001d0768", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d076c", value = "0x2b" },
    { type = "store_u32", address = "0x001d0770", value = "0x4000000" },
    { type = "store_u32", address = "0x001d0774", value = "0x1e08e0" },
    { type = "load_u32", address = "0x001d72c0", value = "0x81000011" },
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 302520480
end_cycles = 302520505
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x44" },
    { type = "load_u32", address = "0x00205018", value = "0x44" },
    { type = "store_u32", address = "0x001d3748", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d374c", value = "0x32" },
    { type = "store_u32", address = "0x001d3750", value = "0x4000000" },
    { type = "store_u32", address = "0x001d3754", value = "0x1e1560" },
    { type = "load_u32", address = "0x001d72c0", value = "0x81000014" },
]

[[test]]
end_address = "0xffffffff8031490c"
start_cycles = 321243694
end_cycles = 321243719
trace = [
    { type = "load_u32", address = "0x00205050", value = "0x0" },
    { type = "load_u32", address = "0x0020504c", value = "0x0" },
    { type = "load_u32", address = "0x0020500c", value = "0x44" },
    { type = "load_u32", address = "0x00205018", value = "0x44" },
    { type = "store_u32", address = "0x001d3968", value = "0x80003f0" },
    { type = "store_u32", address = "0x001d396c", value = "0x30" },
    { type = "store_u32", address = "0x001d3970", value = "0x4000000" },
    { type = "store_u32", address = "0x001d3974", value = "0x1e21b0" },
    { type = "load_u32", address = "0x001d72c0", value = "0x81000016" },
]

