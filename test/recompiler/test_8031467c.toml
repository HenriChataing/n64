start_address = "0xffffffff8031467c"

asm_code = """
    lw       a2, 0x0(v0)
    srl      v0, v1, 16
    lw       t8, 0x8(a2)
    sw       t8, 0x160(sp)
    lw       t7, 0x4(t8)
    lw       t8, 0xe8(sp)
    sw       t7, 0x110(sp)
    lw       t6, 0x4(a2)
    sw       zero, 0xd8(sp)
    sw       zero, 0xe4(sp)
    blez     t8, zero, 0xffffffff80314d54
    sw       t6, 0x120(sp)
"""

bin_code = [
    0x8c460000, 0x00031402, 0x8cd80008, 0xafb80160,
    0x8f0f0004, 0x8fb800e8, 0xafaf0110, 0x8cce0004,
    0xafa000d8, 0xafa000e4, 0x1b0001ab, 0xafae0120,
]

[[test]]
end_address = "0xffffffff803146ac"
start_cycles = 280699082
end_cycles = 280699094
trace = [
    { type = "load_u32", address = "0x001f3540", value = "0x801f30c0" },
    { type = "load_u32", address = "0x001f30c8", value = "0x801f3130" },
    { type = "store_u32", address = "0x00205060", value = "0x801f3130" },
    { type = "load_u32", address = "0x001f3134", value = "0x7631" },
    { type = "load_u32", address = "0x00204fe8", value = "0x1" },
    { type = "store_u32", address = "0x00205010", value = "0x7631" },
    { type = "load_u32", address = "0x001f30c4", value = "0x638c90" },
    { type = "store_u32", address = "0x00204fd8", value = "0x0" },
    { type = "store_u32", address = "0x00204fe4", value = "0x0" },
    { type = "store_u32", address = "0x00205020", value = "0x638c90" },
]

[[test]]
end_address = "0xffffffff803146ac"
start_cycles = 300954174
end_cycles = 300954186
trace = [
    { type = "load_u32", address = "0x001f3540", value = "0x801f30c0" },
    { type = "load_u32", address = "0x001f30c8", value = "0x801f3130" },
    { type = "store_u32", address = "0x00205060", value = "0x801f3130" },
    { type = "load_u32", address = "0x001f3134", value = "0x7631" },
    { type = "load_u32", address = "0x00204fe8", value = "0x1" },
    { type = "store_u32", address = "0x00205010", value = "0x7631" },
    { type = "load_u32", address = "0x001f30c4", value = "0x638c90" },
    { type = "store_u32", address = "0x00204fd8", value = "0x0" },
    { type = "store_u32", address = "0x00204fe4", value = "0x0" },
    { type = "store_u32", address = "0x00205020", value = "0x638c90" },
]

[[test]]
end_address = "0xffffffff803146ac"
start_cycles = 319677408
end_cycles = 319677420
trace = [
    { type = "load_u32", address = "0x001f3540", value = "0x801f30c0" },
    { type = "load_u32", address = "0x001f30c8", value = "0x801f3130" },
    { type = "store_u32", address = "0x00205060", value = "0x801f3130" },
    { type = "load_u32", address = "0x001f3134", value = "0x7631" },
    { type = "load_u32", address = "0x00204fe8", value = "0x1" },
    { type = "store_u32", address = "0x00205010", value = "0x7631" },
    { type = "load_u32", address = "0x001f30c4", value = "0x638c90" },
    { type = "store_u32", address = "0x00204fd8", value = "0x0" },
    { type = "store_u32", address = "0x00204fe4", value = "0x0" },
    { type = "store_u32", address = "0x00205020", value = "0x638c90" },
]

