start_address = "0xffffffff802e1180"

asm_code = """
    addiu    sp, sp, 0xff40
    sw       s0, 0x4(sp)
    sw       a2, 0xc8(sp)
    lh       t7, 0x10(a2)
    or       s0, a1, zero
    or       v0, a0, zero
    sh       t7, 0xa8(sp)
    lh       t8, 0x12(a2)
    addiu    at, zero, 0x1
    sh       t8, 0xaa(sp)
    lhu      t4, 0x6(a1)
    lhu      t5, 0x8(a1)
    sll      t9, t4, 5
    andi     t7, t9, 0xffff
    sll      t6, t5, 5
    or       t4, t7, zero
    andi     t5, t6, 0xffff
    bne      t7, zero, 0xffffffff802e11dc
    sw       t7, 0xc(sp)
"""

bin_code = [
    0x27bdff40, 0xafb00004, 0xafa600c8, 0x84cf0010,
    0x00a08025, 0x00801025, 0xa7af00a8, 0x84d80012,
    0x24010001, 0xa7b800aa, 0x94ac0006, 0x94ad0008,
    0x000cc940, 0x332fffff, 0x000d7140, 0x01e06025,
    0x31cdffff, 0x15e00005, 0xafaf000c,
]

[[test]]
end_address = "0xffffffff802e11cc"
trace = [
    { type = "store_u32", address = "0x001ffe4c", value = "0x0" },
    { type = "store_u32", address = "0x001fff10", value = "0x801d1690" },
    { type = "load_u16", address = "0x001d16a0", value = "0x26c0" },
    { type = "store_u16", address = "0x001ffef0", value = "0x26c0" },
    { type = "load_u16", address = "0x001d16a2", value = "0x27a0" },
    { type = "store_u16", address = "0x001ffef2", value = "0x27a0" },
    { type = "load_u16", address = "0x001d2de6", value = "0x136" },
    { type = "load_u16", address = "0x001d2de8", value = "0x13d" },
    { type = "store_u32", address = "0x001ffe54", value = "0x26c0" },
]

[[test]]
end_address = "0xffffffff802e11cc"
trace = [
    { type = "store_u32", address = "0x001ffe4c", value = "0x0" },
    { type = "store_u32", address = "0x001fff10", value = "0x801d1690" },
    { type = "load_u16", address = "0x001d16a0", value = "0x26c0" },
    { type = "store_u16", address = "0x001ffef0", value = "0x26c0" },
    { type = "load_u16", address = "0x001d16a2", value = "0x27a0" },
    { type = "store_u16", address = "0x001ffef2", value = "0x27a0" },
    { type = "load_u16", address = "0x001d2de6", value = "0x136" },
    { type = "load_u16", address = "0x001d2de8", value = "0x13d" },
    { type = "store_u32", address = "0x001ffe54", value = "0x26c0" },
]

