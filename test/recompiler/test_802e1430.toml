start_address = "0xffffffff802e1430"

asm_code = """
    lhu      t8, 0xd2(sp)
    lui      at, 0x800
    sll      t0, a3, 1
    or       t9, t8, at
    lui      at, 0x4c0
    andi     t6, t0, 0xffff
    addiu    a0, a0, 0x8
    or       t7, t6, at
    sw       t9, 0x0(v0)
    or       v1, a0, zero
    sw       t7, 0x4(v0)
    lui      t9, 0x740
    lui      t8, 0x808
    ori      t8, t8, 0x600
    ori      t9, t9, 0x880
    or       t0, t6, zero
    sw       t9, 0x4(v1)
    sw       t8, 0x0(v1)
    addiu    a0, a0, 0x8
    lhu      t2, 0xa8(sp)
    lw       t6, 0xc(sp)
    lhu      t7, 0xaa(sp)
    lw       t8, 0x8(sp)
    bne      t2, t6, 0xffffffff802e14b4
    lui      v0, 0x8022
"""

bin_code = [
    0x97b800d2, 0x3c010800, 0x00074040, 0x0301c825,
    0x3c0104c0, 0x310effff, 0x24840008, 0x01c17825,
    0xac590000, 0x00801825, 0xac4f0004, 0x3c190740,
    0x3c180808, 0x37180600, 0x37390880, 0x01c04025,
    0xac790004, 0xac780000, 0x24840008, 0x97aa00a8,
    0x8fae000c, 0x97af00aa, 0x8fb80008, 0x154e0009,
    0x3c028022,
]

[[test]]
end_address = "0xffffffff802e1494"
trace = [
    { type = "load_u16", address = "0x001fff1a", value = "0x0" },
    { type = "store_u32", address = "0x001d33d8", value = "0x8000000" },
    { type = "store_u32", address = "0x001d33dc", value = "0x4c000f0" },
    { type = "store_u32", address = "0x001d33e4", value = "0x7400880" },
    { type = "store_u32", address = "0x001d33e0", value = "0x8080600" },
    { type = "load_u16", address = "0x001ffef0", value = "0x26c0" },
    { type = "load_u32", address = "0x001ffe54", value = "0x26c0" },
    { type = "load_u16", address = "0x001ffef2", value = "0x27a0" },
    { type = "load_u32", address = "0x001ffe50", value = "0x27a0" },
]

[[test]]
end_address = "0xffffffff802e1494"
trace = [
    { type = "load_u16", address = "0x001fff1a", value = "0x0" },
    { type = "store_u32", address = "0x001d33d8", value = "0x8000000" },
    { type = "store_u32", address = "0x001d33dc", value = "0x4c000f0" },
    { type = "store_u32", address = "0x001d33e4", value = "0x7400880" },
    { type = "store_u32", address = "0x001d33e0", value = "0x8080600" },
    { type = "load_u16", address = "0x001ffef0", value = "0x26c0" },
    { type = "load_u32", address = "0x001ffe54", value = "0x26c0" },
    { type = "load_u16", address = "0x001ffef2", value = "0x27a0" },
    { type = "load_u32", address = "0x001ffe50", value = "0x27a0" },
]

