start_address = "0xffffffff802e0808"

asm_code = """
    addiu    ra, zero, 0x9
    lui      t5, 0x8000
    lw       t8, 0x0(t7)
    sw       t8, 0x138(sp)
    lw       t6, 0x8(t8)
    sw       t6, 0x134(sp)
    lw       t7, 0x4(t6)
    lw       t6, 0xbc(sp)
    sw       t7, 0xe4(sp)
    lw       t8, 0x4(t8)
    sw       zero, 0xac(sp)
    sw       zero, 0xb8(sp)
    blez     t6, zero, 0xffffffff802e0f50
    sw       t8, 0xf4(sp)
"""

bin_code = [
    0x241f0009, 0x3c0d8000, 0x8df80000, 0xafb80138,
    0x8f0e0008, 0xafae0134, 0x8dcf0004, 0x8fae00bc,
    0xafaf00e4, 0x8f180004, 0xafa000ac, 0xafa000b8,
    0x19c001c5, 0xafb800f4,
]

[[test]]
end_address = "0xffffffff802e0840"
trace = [
    { type = "load_u32", address = "0x001ee0a0", value = "0x801ed7a0" },
    { type = "store_u32", address = "0x00200040", value = "0x801ed7a0" },
    { type = "load_u32", address = "0x001ed7a8", value = "0x801ed810" },
    { type = "store_u32", address = "0x0020003c", value = "0x801ed810" },
    { type = "load_u32", address = "0x001ed814", value = "0x7631" },
    { type = "load_u32", address = "0x001fffc4", value = "0x1" },
    { type = "store_u32", address = "0x001fffec", value = "0x7631" },
    { type = "load_u32", address = "0x001ed7a4", value = "0x64c2d0" },
    { type = "store_u32", address = "0x001fffb4", value = "0x0" },
    { type = "store_u32", address = "0x001fffc0", value = "0x0" },
    { type = "store_u32", address = "0x001ffffc", value = "0x64c2d0" },
]

[[test]]
end_address = "0xffffffff802e0840"
trace = [
    { type = "load_u32", address = "0x001ee0a0", value = "0x801ed7a0" },
    { type = "store_u32", address = "0x00200040", value = "0x801ed7a0" },
    { type = "load_u32", address = "0x001ed7a8", value = "0x801ed810" },
    { type = "store_u32", address = "0x0020003c", value = "0x801ed810" },
    { type = "load_u32", address = "0x001ed814", value = "0x7631" },
    { type = "load_u32", address = "0x001fffc4", value = "0x1" },
    { type = "store_u32", address = "0x001fffec", value = "0x7631" },
    { type = "load_u32", address = "0x001ed7a4", value = "0x64c2d0" },
    { type = "store_u32", address = "0x001fffb4", value = "0x0" },
    { type = "store_u32", address = "0x001fffc0", value = "0x0" },
    { type = "store_u32", address = "0x001ffffc", value = "0x64c2d0" },
]

