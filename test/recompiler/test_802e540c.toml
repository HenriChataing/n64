start_address = "0xffffffff802e540c"

asm_code = """
    lw       a0, 0x4c(a1)
    lwc1     cr0, 0x30(a1)
    lwc1     cr20, 0x2c(a1)
    lbu      t0, 0x8(a0)
    lbu      a2, 0x6(a1)
    lbu      a3, 0x4(a0)
    andi     s2, t0, 0x7
    lwc1     cr4, 0xc(s1)
    lwc1     cr6, 0x8(s1)
    lui      at, 0x8023
    lwc1     cr10, -0x680c(at)
    mul.s    f8, f4, f6
    sb       a3, 0x4b(sp)
    sb       a2, 0x49(sp)
    or       a0, s0, zero
    mul.s    f0, f0, f8
    nop
    mul.s    f0, f0, f10
    nop
    mul.s    f16, f20, f22
    mfc1     a1, cr0
    mul.s    f20, f16, f22
    jal      0xffffffff802e4d90
    nop
"""

bin_code = [
    0x8ca4004c, 0xc4a00030, 0xc4b4002c, 0x90880008,
    0x90a60006, 0x90870004, 0x31120007, 0xc624000c,
    0xc6260008, 0x3c018023, 0xc42a97f4, 0x46062202,
    0xa3a7004b, 0xa3a60049, 0x02002025, 0x46080002,
    0x00000000, 0x460a0002, 0x00000000, 0x4616a402,
    0x44050000, 0x46168502, 0x0c0b9364, 0x00000000,
]

[[test]]
end_address = "0xffffffff802e4d90"
trace = [
    { type = "load_u32", address = "0x00228714", value = "0x80224f8c" },
    { type = "load_u32", address = "0x002286f8", value = "0x3f000000" },
    { type = "load_u32", address = "0x002286f4", value = "0x46610000" },
    { type = "load_u8", address = "0x00224f94", value = "0x0" },
    { type = "load_u8", address = "0x002286ce", value = "0x40" },
    { type = "load_u8", address = "0x00224f90", value = "0x19" },
    { type = "load_u32", address = "0x001d16bc", value = "0x3f80bbd5" },
    { type = "load_u32", address = "0x001d16b8", value = "0x3f800000" },
    { type = "load_u32", address = "0x002297f4", value = "0x3f800000" },
    { type = "store_u8", address = "0x002000c3", value = "0x19" },
    { type = "store_u8", address = "0x002000c1", value = "0x40" },
]

[[test]]
end_address = "0xffffffff802e4d90"
trace = [
    { type = "load_u32", address = "0x00228714", value = "0x80224f8c" },
    { type = "load_u32", address = "0x002286f8", value = "0x3f000000" },
    { type = "load_u32", address = "0x002286f4", value = "0x46610000" },
    { type = "load_u8", address = "0x00224f94", value = "0x0" },
    { type = "load_u8", address = "0x002286ce", value = "0x40" },
    { type = "load_u8", address = "0x00224f90", value = "0x19" },
    { type = "load_u32", address = "0x001d16bc", value = "0x3f7f4000" },
    { type = "load_u32", address = "0x001d16b8", value = "0x3f800000" },
    { type = "load_u32", address = "0x002297f4", value = "0x3f800000" },
    { type = "store_u8", address = "0x002000c3", value = "0x19" },
    { type = "store_u8", address = "0x002000c1", value = "0x40" },
]

