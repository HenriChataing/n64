start_address = "0xffffffff80326d00"

asm_code = """
    lui      a1, 0x8033
    lw       a1, 0x48a0(a1)
    mfc0     t0, sr
    lw       k1, 0x18(a1)
    ori      t0, t0, 0x2
    sw       t0, 0x118(a1)
    sd       s0, 0x98(a1)
    sd       s1, 0xa0(a1)
    sd       s2, 0xa8(a1)
    sd       s3, 0xb0(a1)
    sd       s4, 0xb8(a1)
    sd       s5, 0xc0(a1)
    sd       s6, 0xc8(a1)
    sd       s7, 0xd0(a1)
    sd       gp, 0xe8(a1)
    sd       sp, 0xf0(a1)
    sd       fp, 0xf8(a1)
    sd       ra, 0x100(a1)
    beq      k1, zero, 0xffffffff80326d70
    sw       ra, 0x11c(a1)
"""

bin_code = [
    0x3c058033, 0x8ca548a0, 0x40086000, 0x8cbb0018,
    0x35080002, 0xaca80118, 0xfcb00098, 0xfcb100a0,
    0xfcb200a8, 0xfcb300b0, 0xfcb400b8, 0xfcb500c0,
    0xfcb600c8, 0xfcb700d0, 0xfcbc00e8, 0xfcbd00f0,
    0xfcbe00f8, 0xfcbf0100, 0x13600009, 0xacbf011c,
]

[[test]]
end_address = "0xffffffff80326d50"
start_cycles = 152841358
end_cycles = 152841378
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x803398d0" },
    { type = "load_u32", address = "0x003398e8", value = "0x1" },
    { type = "store_u32", address = "0x003399e8", value = "0x2000ff02" },
    { type = "store_u64", address = "0x00339968", value = "0x0" },
    { type = "store_u64", address = "0x00339970", value = "0x8" },
    { type = "store_u64", address = "0x00339978", value = "0xffffffff80364b00" },
    { type = "store_u64", address = "0x00339980", value = "0xc" },
    { type = "store_u64", address = "0x00339988", value = "0xffffffff801d3a00" },
    { type = "store_u64", address = "0x00339990", value = "0x0" },
    { type = "store_u64", address = "0x00339998", value = "0x0" },
    { type = "store_u64", address = "0x003399a0", value = "0xffffffff801d7380" },
    { type = "store_u64", address = "0x003399b8", value = "0x0" },
    { type = "store_u64", address = "0x003399c0", value = "0xffffffff80204e18" },
    { type = "store_u64", address = "0x003399c8", value = "0xffffffff80204ea0" },
    { type = "store_u64", address = "0x003399d0", value = "0xffffffff80321ff4" },
    { type = "store_u32", address = "0x003399ec", value = "0x80321ff4" },
]

[[test]]
end_address = "0xffffffff80326d50"
start_cycles = 173117462
end_cycles = 173117482
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x803398d0" },
    { type = "load_u32", address = "0x003398e8", value = "0x1" },
    { type = "store_u32", address = "0x003399e8", value = "0x2000ff02" },
    { type = "store_u64", address = "0x00339968", value = "0x1" },
    { type = "store_u64", address = "0x00339970", value = "0x0" },
    { type = "store_u64", address = "0x00339978", value = "0x0" },
    { type = "store_u64", address = "0x00339980", value = "0x0" },
    { type = "store_u64", address = "0x00339988", value = "0x0" },
    { type = "store_u64", address = "0x00339990", value = "0x0" },
    { type = "store_u64", address = "0x00339998", value = "0x0" },
    { type = "store_u64", address = "0x003399a0", value = "0x0" },
    { type = "store_u64", address = "0x003399b8", value = "0x0" },
    { type = "store_u64", address = "0x003399c0", value = "0xffffffff802051a8" },
    { type = "store_u64", address = "0x003399c8", value = "0x0" },
    { type = "store_u64", address = "0x003399d0", value = "0xffffffff80321938" },
    { type = "store_u32", address = "0x003399ec", value = "0x80321938" },
]

[[test]]
end_address = "0xffffffff80326d50"
start_cycles = 194959882
end_cycles = 194959902
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x80339720" },
    { type = "load_u32", address = "0x00339738", value = "0x1" },
    { type = "store_u32", address = "0x00339838", value = "0x2000ff02" },
    { type = "store_u64", address = "0x003397b8", value = "0x1" },
    { type = "store_u64", address = "0x003397c0", value = "0x0" },
    { type = "store_u64", address = "0x003397c8", value = "0x0" },
    { type = "store_u64", address = "0x003397d0", value = "0x0" },
    { type = "store_u64", address = "0x003397d8", value = "0x0" },
    { type = "store_u64", address = "0x003397e0", value = "0x0" },
    { type = "store_u64", address = "0x003397e8", value = "0x0" },
    { type = "store_u64", address = "0x003397f0", value = "0x0" },
    { type = "store_u64", address = "0x00339808", value = "0x0" },
    { type = "store_u64", address = "0x00339810", value = "0xffffffff80207188" },
    { type = "store_u64", address = "0x00339818", value = "0x0" },
    { type = "store_u64", address = "0x00339820", value = "0xffffffff80321938" },
    { type = "store_u32", address = "0x0033983c", value = "0x80321938" },
]

[[test]]
end_address = "0xffffffff80326d70"
start_cycles = 218310076
end_cycles = 218310096
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x80339570" },
    { type = "load_u32", address = "0x00339588", value = "0x0" },
    { type = "store_u32", address = "0x00339688", value = "0xff02" },
    { type = "store_u64", address = "0x00339608", value = "0x1" },
    { type = "store_u64", address = "0x00339610", value = "0x0" },
    { type = "store_u64", address = "0x00339618", value = "0x0" },
    { type = "store_u64", address = "0x00339620", value = "0x0" },
    { type = "store_u64", address = "0x00339628", value = "0x0" },
    { type = "store_u64", address = "0x00339630", value = "0x0" },
    { type = "store_u64", address = "0x00339638", value = "0x0" },
    { type = "store_u64", address = "0x00339640", value = "0x0" },
    { type = "store_u64", address = "0x00339658", value = "0x0" },
    { type = "store_u64", address = "0x00339660", value = "0xffffffff802031a0" },
    { type = "store_u64", address = "0x00339668", value = "0x0" },
    { type = "store_u64", address = "0x00339670", value = "0xffffffff80321938" },
    { type = "store_u32", address = "0x0033968c", value = "0x80321938" },
]

[[test]]
end_address = "0xffffffff80326d50"
start_cycles = 240171688
end_cycles = 240171708
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x80339720" },
    { type = "load_u32", address = "0x00339738", value = "0x1" },
    { type = "store_u32", address = "0x00339838", value = "0x2000ff02" },
    { type = "store_u64", address = "0x003397b8", value = "0x1" },
    { type = "store_u64", address = "0x003397c0", value = "0x0" },
    { type = "store_u64", address = "0x003397c8", value = "0x0" },
    { type = "store_u64", address = "0x003397d0", value = "0x0" },
    { type = "store_u64", address = "0x003397d8", value = "0x0" },
    { type = "store_u64", address = "0x003397e0", value = "0x0" },
    { type = "store_u64", address = "0x003397e8", value = "0x0" },
    { type = "store_u64", address = "0x003397f0", value = "0x0" },
    { type = "store_u64", address = "0x00339808", value = "0x0" },
    { type = "store_u64", address = "0x00339810", value = "0xffffffff80207188" },
    { type = "store_u64", address = "0x00339818", value = "0x0" },
    { type = "store_u64", address = "0x00339820", value = "0xffffffff80321938" },
    { type = "store_u32", address = "0x0033983c", value = "0x80321938" },
]

[[test]]
end_address = "0xffffffff80326d70"
start_cycles = 263527029
end_cycles = 263527049
trace = [
    { type = "load_u32", address = "0x003348a0", value = "0x803638f0" },
    { type = "load_u32", address = "0x00363908", value = "0x0" },
    { type = "store_u32", address = "0x00363a08", value = "0xff02" },
    { type = "store_u64", address = "0x00363988", value = "0x1" },
    { type = "store_u64", address = "0x00363990", value = "0x0" },
    { type = "store_u64", address = "0x00363998", value = "0x0" },
    { type = "store_u64", address = "0x003639a0", value = "0x0" },
    { type = "store_u64", address = "0x003639a8", value = "0x0" },
    { type = "store_u64", address = "0x003639b0", value = "0x0" },
    { type = "store_u64", address = "0x003639b8", value = "0x0" },
    { type = "store_u64", address = "0x003639c0", value = "0x0" },
    { type = "store_u64", address = "0x003639d8", value = "0x0" },
    { type = "store_u64", address = "0x003639e0", value = "0xffffffff80364a30" },
    { type = "store_u64", address = "0x003639e8", value = "0x0" },
    { type = "store_u64", address = "0x003639f0", value = "0xffffffff80321938" },
    { type = "store_u32", address = "0x00363a0c", value = "0x80321938" },
]

